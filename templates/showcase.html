{% extends 'layout.html' %}
{% block content %}
    <h1 class="display-4 text-center border-bottom my-4 pb-2">Birthday Jarvis</h1>
    <form action="/showcase" method="POST" class="form-group">
        <div class="row">
            <div class="col-sm-7">
                {{form.add_field(class= "form-control form-control-lg my-2", placeholder= 'Enter a name..')}}
            </div>
            <div class="col-sm-3">
                <input type="date" name="b_date" min="1000-01-01" max="3000-12-31" class="form-control form-control-lg my-2" required>
            </div>
            <div class="col-sm-2">
                {{form.add_btn(class= "btn btn-primary btn-lg my-2")}}
            </div>
        </div>  
    </form> 

    {% if entries|length < 1 %}
        <p class="jumbotron text-center my-4 lead">Nothing to show, add data and get started!</p>
    {% else %}
        <table class="table table-striped table-bordered table-hover table-responsive-sm" style="width: 100%">
            <thead class="thead-dark">
                <tr>
                    <th style="width: 40%">Names</th>
                    <th style="width: 20%">Birth date</th>
                    <th style="width: 13%">Days left</th>
                    <th style="width: 12%">Age</th>
                    <th style="width: 15%">Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for entry in entries %}
                    <tr>
                        <td>{{ entry.name }}</td>
                        <td>{{ entry.birthdate }}</td>
                        <td>{{ entry.daysleft }}</td>
                        <td>{{ entry.age }}</td>
                        <td>
                            <a href="/edit/{{ entry.id }}" class= 'btn btn-success mb-1'>Edit</a>
                            <a href="/delete/{{ entry.id }}" class= 'btn btn-danger mb-1'>Delete</a>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}
    
{% endblock %}
